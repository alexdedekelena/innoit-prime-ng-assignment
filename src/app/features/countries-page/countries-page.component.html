<p-toast></p-toast>
<div class="surface-card mt-4 p-8 pt-4 shadow-2 w-full">
  <div class="grid">
    <div class="col-12 pb-6 mb-4 border-bottom-1 border-gray-300">
      <h1>Countries & Currencies</h1>
      <span class="text-color-secondary"
        >You can easily manage your countries in this page</span
      >
    </div>
    <div class="col-3">
      <div class="col-12">
        <h2>Countries</h2>
      </div>
      <div class="col-12">
        <span class="text-color-secondary"
          >Manage your countries in this project</span
        >
      </div>
      <div class="col-12">
        <!-- check Prime Dialog temple seems doesn't support SSR hydration-->
        <app-add-country-dialog ngSkipHydration></app-add-country-dialog>
      </div>
    </div>
    <div class="col-9">
      <p-table
        [value]="countries()"
        responsiveLayout="scroll"
        data-cy="countries-table"
      >
        <ng-template pTemplate="header">
          <tr>
            <th>Country</th>
            <th>Population</th>
            <th>Continent</th>
            <th>Status</th>
            <th>Maps</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-country>
          <tr>
            <td>
              <div class="flex align-items-center">
                <img
                  [src]="country.flag"
                  [alt]="country.name"
                  width="50"
                  class="mr-2"
                />
                <div class="ml-3">
                  <h4 class="m-1">{{ country.name }}</h4>
                  <span class="ml-1 text-sm text-color-secondary">{{
                    country.currency
                  }}</span>
                </div>
              </div>
            </td>
            <td>{{ country.population }}</td>
            <td>{{ country.continent }}</td>
            <td>
              @if (country.status) {
                <i class="pi pi-check-circle text-green-500"></i>
              } @else {
                <i class="pi pi-times-circle text-red-500"></i>
              }
            </td>
            <td>
              <p-button
                icon="pi pi-globe"
                [rounded]="true"
                [text]="true"
                (onClick)="navigatesToGoogleMap(country.map)"
              />
            </td>
          </tr>
        </ng-template>
      </p-table>
    </div>
  </div>
</div>
